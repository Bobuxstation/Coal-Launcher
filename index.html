<!DOCTYPE html>

<head>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/scroll.css">
  <link rel="stylesheet" href="css/interfont/inter.css">
  <link rel="stylesheet" href="css/dark.css" id="customthemelink">

  <script src="scripts/integritycheck.js"></script>
  <script src="scripts/fetchlocal.js" defer></script>
  <script src="scripts/options.js" defer></script>
  <script src="scripts/fetchstore.js" defer></script>
  <script src="scripts/downloader.js" defer></script>
  <script src="scripts/close.js"></script>
  <script src="scripts/fontawesome.js" crossorigin="anonymous"></script>
  <script src="scripts/ExtensionAndPlayerAPI.js" defer></script>
  <script src="scripts/tabs.js" defer></script>

  <meta charset="UTF-8">
  <title id="pagetitle">Collections - Coal Launcher</title>

</head>

<!-- Navigations -->

<body id="body" class="tabs" style="display: none;">

  <!-- Tab list -->
  <nav class="header" id="header" role="tablist" aria-label="Tabs">
    <!-- Tabs -->
    <a id="collectionbtn" class="navbtn" role="tab" aria-selected="true" aria-controls="collections">
      <i class="fa-solid fa-list"></i>
      <span>Collections</span>
    </a>
    <a id="marketbtn" class="navbtn" role="tab" aria-controls="market">
      <i class="fa-solid fa-shop"></i>
      <span>Market</span>
    </a>
    <a id="achievementbtn" class="navbtn" role="tab" aria-controls="achievement">
      <i class="fa-solid fa-award"></i>
      <span>Achievements</span>
    </a>
    <a id="optionbtn" class="navbtn" role="tab" aria-controls="options">
      <i class="fa-solid fa-gear"></i>
      <span>Options</span>
    </a>
    <a id="detailbtn" class="navbtn" role="tab" aria-controls="gamedetail">
      <span>Details</span>
    </a>

    <ul class="titleBarControls">
      <!-- Close, maximize and minimize -->
      <li style="float: right;"><a onclick="closeWindow()"><i class="fa-solid fa-x"></i></a></li>
      <li style="float: right;"><a onclick="maximizeWindow()"><i class="fa-solid fa-window-maximize"></i></a></li>
      <li style="float: right;"><a onclick="minimizeWindow()"><i class="fa-solid fa-window-minimize"></i></a></li>

      <li style="float: right;" id="taskNavBtn"><a onclick="taskmgr()"><i class="fa-solid fa-gamepad"></i></a>
      </li>
      <li style="float: right; display: none;" id="downloadsNavBtn"><a onclick="downloadsmenu()"><i
            class="fa-solid fa-download"></i></a></li>
      <li style="float: right; display: none;" id="refreshNavBtn"><a><i class="fa-solid fa-refresh"></i></a></li>
    </ul>

  </nav>

  <!-- Collections Page -->
  <div class="content body" id="collections" role="tabpanel">

    <!-- main part -->
    <div class="sidebar">
      <div class="gamelist">
        <div id="mygames" class="game">
        </div>
      </div>
    </div>

    <div class="sidebar2">

      <!-- launch game -->
      <div class="gamedetails" id="gamedetails" style="display: none;">
        <h2 id="gamename">Game Name</h2>
        <p id="gamedev">Game Publisher</p><br>
        <a id="gameplay" style="text-decoration:none;" onclick=""><button class="playbutton"><i
              class="fa-solid fa-up-right-from-square"></i> Play</button></a>
        <a id="contextmenu" style="text-decoration:none;" onclick="toggleContext()"><button class="deletebutton"><i
              class="fa-solid fa-bars"></i></button></a>
      </div>

      <!-- context menu -->
      <div id="gameextra" style="display: none;">
        <div id="execonly">
          <button id="createDesktopShortcut"><i class="fa-solid fa-desktop"></i> Create Shortcut</button>
          <button id="emulatePrompt"><i class="fa-solid fa-wine-glass"></i> Emulate It!</button>
          <button id="editPrompt" style="margin-bottom: 5px;"><i class="fa-solid fa-edit"></i> Change launch arguments</button>
        </div>
        <button id="deletegame"><i class="fa-solid fa-trash"></i> Delete Game</button>
        <button id="showinfolder"><i class="fa-solid fa-folder-open"></i> Show In Folder</button>
      </div>

      <!-- game feed -->
      <iframe id="gamefeed" style="display: none;">
        <link rel="stylesheet" href="scroll.css">
      </iframe>

    </div>

  </div>

  <!-- Market Page -->
  <div class="content body" id="market" role="tabpanel" hidden>

    <!-- main part -->
    <div class="sidebar">
      <div class="gamelist">
        <div id="myproviders" class="game">
          <a onclick="document.getElementById('optionbtn').click()" href="#addgametitle"><button><i
                class="fa-solid fa-plus"></i> Add a
              game</button></a>
          <a onclick="document.getElementById('optionbtn').click()" href="#launcherconfigtitle"><button><i
                class="fa-solid fa-folder-plus"></i> Add
              a repository</button></a>
          <a href="gamesubmitter.html" target="_blank"><button><i class="fa-solid fa-circle-question"></i> Submitting
              your games</button></a>
          <hr>
        </div>
      </div>
    </div>

    <div class="sidebar2" style="overflow: scroll; overflow-x: hidden;">

      <!-- Repository description -->
      <input class="input" id="playbutton" placeholder="Search games..." type="search" style="margin-bottom: 0;">

      <!-- game cards -->
      <div id="notmygames">
      </div>

    </div>

  </div>

  <!-- Achievements -->
  <div class="content body" id="achievement" role="tabpanel" hidden>

    <div class="sidebar">
      <div class="gamelist">
        <div class="game">
          <a onclick="document.getElementById('optionbtn').click()" href="#addgametitle"><button><i
                class="fa-solid fa-plus"></i> Add a
              game</button></a>
          <a onclick="document.getElementById('optionbtn').click()" href="#achievementsection"><button><i
                class="fa-solid fa-award"></i> Manage achievements</button></a>
          <hr>
          <a onclick="loadAchievements('')"><button><i class="fa-solid fa-refresh"></i> Refresh achievements</button></a>
        </div>
      </div>
    </div>

    <div class="sidebar2" style="overflow: scroll; overflow-x: hidden;">
      <input class="input" onchange="loadAchievements(this.value)" placeholder="Search achievements..." type="search" style="margin-bottom: 0;">
      <div id="myachievements">
      </div>
    </div>

  </div>

  <!-- Game Details -->
  <div class="content body" id="gamedetail" role="tabpanel" hidden>

    <div class="sidebar">
      <div class="gamelist">
        <div class="game">
          <a onclick="document.getElementById('optionbtn').click()" href="#addgametitle"><button><i
                class="fa-solid fa-plus"></i> Add a
              game</button></a>
          <a onclick="document.getElementById('optionbtn').click()" href="#launcherconfigtitle"><button><i
                class="fa-solid fa-folder-plus"></i> Add
              a repository</button></a>
          <a href="gamesubmitter.html" target="_blank"><button><i class="fa-solid fa-circle-question"></i> Submitting
              your games</button></a>
          <hr>
        </div>
      </div>
    </div>

    <div class="sidebar2" style="overflow: hidden; overflow-x: hidden;">

      <div class="gamedetails">
        <h2 id="downloadname">Game Name</h2>
        <p id="downloaddev">Game Publisher</p><br>
        <a id="downloadgamebutton" style="text-decoration:none;" onclick=""><button class="playbutton"><i
              class="fa-solid fa-download"></i> DOWNLOAD</button></a>
      </div>

      <div class="gamedetails" id="downloaddetails">
        <p id="downloaddesc"></p>
      </div>

      <iframe id="previewgamefeed" style="display: none;">
        <link rel="stylesheet" href="scroll.css">
      </iframe>

    </div>

  </div>

  <!-- Settings Page -->
  <div class="content body" id="options" role="tabpanel" hidden>

    <!-- main part -->
    <div class="sidebar">
      <div class="gamelist">
        <a href="#addgametitle"><button>Add a game</button></a>
        <a href="#launcherconfigtitle"><button>Repositories</button></a>
        <a href="#themes"><button>Themes</button></a>
        <a href="#emulatorsettings"><button>Emulator settings</button></a>
        <a href="#extensionconfig"><button>Manage extensions</button></a>
        <a href="#achievementsection"><button>Manage achievements</button></a>
        <a href="#launchevertitle"><button>About</button></a>
      </div>
    </div>

    <div class="sidebar2" style="overflow: scroll; overflow-x: hidden;">

      <div>
        <div class="gamedetails" id="gamedetails" style="display: block;">
          <details>
            <summary>
              <h2 id="addgametitle">Add a game</h2>
              <p>Like it says, it adds a game to your collection. Note that if you do not want to add a game news/feed,
                leave it empty.</p>
            </summary>

            <br>
            <input placeholder="Game name" id="name" class="input"><br>
            <input placeholder="Banner" id="banner" class="input"><br>
            <input placeholder="Game Feed (optional)" id="feed" class="input"><br>
            <input placeholder="Game URL" id="dir" class="input"><br>
            <select class="input" id="type">
              <option>html5</option>
              <option>executable</option>
              <option>flash</option>
              <option>other</option>
            </select>
            <button onclick="add()" style="cursor: pointer;" id="addgame" class="button">Add to my games</button>
            <button onclick="editjson()" style="cursor: pointer;" class="button">Edit collection JSON file</button>
          </details>
        </div><br>

        <div class="gamedetails" id="gamedetails" style="display: block;">
          <details>
            <summary>
              <h2 id="launcherconfigtitle">Repositories</h2>
              <p>Adds more repositories to the market section.</p>
            </summary>

            <br>
            <input placeholder="Repository Name" id="gameprovidername" class="input"></input><br>
            <input placeholder="Repository JSON Url" id="gameprovider" class="input"></input><br>
            <button onclick="changeprovider()" id="gameapply" class="button">Add Repository</button>
            <button onclick="defaultprovider()" id="gamedefault" class="button">Reset Repositories</button>
            <button onclick="editproviderjson()" style="cursor: pointer;" class="button">Edit Repositories JSON
              file</button>
          </details>
        </div><br>

        <div class="gamedetails" id="gamedetails" style="display: block;">
          <details>
            <summary>
              <h2 id="themes">Themes</h2>
              <p>Customize your launcher with custom themes!</p>
            </summary>

            <br>
            <select class="input" id="launcherstyle">
            </select><br>
            <button onclick="settheme()" style="cursor: pointer;" id="applytheme" class="button">Apply Theme</button>
            <button onclick="openThemeFolder()" style="cursor: pointer;" class="button">Open Themes Folder</button>
          </details>
        </div><br>

        <div class="gamedetails" id="gamedetails" style="display: block;">
          <details>
            <summary>
              <h2 id="emulatorsettings">Emulator settings</h2>
              <p>Emulate your executable games if they are not natively supported.</p>
            </summary>

            <br>
            <input placeholder="Preferred Emulator Command" id="preferredEmulator" class="input"><br>
            <button onclick="setEmulator()" style="cursor: pointer;" id="applyEmulator" class="button">Apply
              Emulator</button>
          </details>
        </div><br>

        <div class="gamedetails" id="gamedetails" style="display: block;">
          <details>
            <summary>
              <h2 id="extensionconfig">Manage extensions</h2>
              <p>Manage all installed extensions.</p>
            </summary>

            <br>
            <button onclick="openExtensionConfig()" style="cursor: pointer;" id="applyEmulator" class="button">Edit
              extensions
              JSON file</button>
          </details>
        </div><br>

        <div class="gamedetails" id="gamedetails" style="display: block;">
          <details>
            <summary>
              <h2 id="achievementsection">Manage achievements</h2>
              <p>Manage all of your achievements.</p>
            </summary>

            <br>
            <button onclick="openAchievementConfig()" style="cursor: pointer;" id="applyEmulator" class="button">Edit
              achievements
              JSON file</button>
          </details>
        </div><br>

        <div class="gamedetails" id="gamedetails" style="display: block;">
          <h2 id="launchevertitle">About</h2>
          <p id="versioninfo">
            Please Wait...
          </p>
          <br>
          <p id="updateinfo">
            <i class="fa-solid fa-spinner fa-spin"></i> Checking for updates...
          </p>
          <br>
          <a onclick="redirect('https://github.com/Bobuxstation/Coal-Launcher/issues/new')">
            <i class="fa-solid fa-up-right-from-square"></i> Submit an issue
          </a>
          <br>
          <a onclick="redirect('https://github.com/Bobuxstation/Coal-Launcher/wiki')">
            <i class="fa-solid fa-up-right-from-square"></i> View documentation
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="content body" id="webview" role="tabpanel" hidden>
    <webview id="ExtensionWebview" style="height: calc(100vh - 45px);"></webview>
  </div>

  <!-- sidebars -->

  <!-- Game Manager sidebar -->
  <div class="downloads" id="taskmgr" style="display: none;">
    <h2 style="text-align: center;">Game Manager</h2>
    <div id="tasks"></div>
  </div>

  <!-- Download Manager sidebar -->
  <div class="downloads" id="downloads" style="display: none;">
    <h2 style="text-align: center;">Downloads</h2>
    <div id="downloadprogress"></div>
  </div>

</body>

</html>